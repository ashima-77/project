
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>


  <script>
     function showPrev(fileRef,prevRef)
         {
                         const [file] = fileRef.files
                            if (file) {
                                prevRef.src = URL.createObjectURL(file)
                            }
        }
          
  </script>
  <script>
        $(document).ready(function(){
            $("#btnFetchWithAjax").click(function()
            {let obj={
                type:"get",
                 url:"/get-one",
                data:{
                    txtEmail3:$("#txtEmail3").val()

                }
            }
            $.ajax(obj).then(function(responseJsonAry)
            {
                // alert(JSON.stringify(responseJsonAry));

                             let orgname=responseJsonAry[0].orgname;
                             let regnumber=responseJsonAry[0].regnumber;
                              let address=responseJsonAry[0].address;
                              let city=responseJsonAry[0].city;
                              let sports=responseJsonAry[0].sports;
                              let website=responseJsonAry[0].website;
                              let insta=responseJsonAry[0].insta;
                              let head=responseJsonAry[0].head;
                              let contact=responseJsonAry[0].contact;
                              let picurl=responseJsonAry[0].picurl;
                              let otherinfo= responseJsonAry[0].otherinfo;
                             alert(orgname+"\n"+regnumber+"\n"+address+"\n"+city+"\n"+sports+"\n"+website+"\n"+insta+"\n"+head+"\n"+contact+"\n"+picurl+"\n"+otherinfo);
                               $("#txtOrg").val(orgname);
                              $("#txtReg").val(regnumber);
                              $("#txtAdd").val(address);
                               $("#txtCity").val(city);
                             $("#txtDeal").val(sports); 
                              $("#txtWeb").val(website);
                                 $("#txtInsta").val(insta);
                               $("#txtOrgH").val(head); 
                              $("#txtCon").val(contact); 
                               $("#prev").prop("src",picurl);
                                 $("#hdn").val(picurl);
                              $("#txtOther").val(otherinfo);
                             


            }).fail(function(err){alert(err.message)})
        })
        })
        // --------------------------------------------------------------------------------
          
  </script>
  <script>
      function showUser()
      {
        let activeUser=localStorage.getItem("activeUser");
        document.getElementById("txtEmail3").value=activeUser;
      }
    </script>
   
  </head>

  <body  onload="showUser();">
    <div class="row " >
            <div class="col-md-12  bg-primary text-white" style="padding:14px 0px 14px 0px;">
                www.sportstournamentsac.in
            </div>
            
        <div class="row ">
            <div class="col-md-8 offset-md-2 bg-danger text-white mt-2" >
                <center><h2>Profile Page for Organizers</h2></center>
            </div>
        </div>
      
    <div class="container row mx-auto" style="width: 800px;">
        <form class="row g-3" action="/org-details" method="post" enctype="multipart/form-data">
              <input type="hidden" id="hdn" name="pichide">
  <div class="col-md-10">
    <label for="inputEmail4" class="form-label">Email ID</label>
    <input type="email" class="form-control" autofocus name="txtEmail3" id="txtEmail3" value="">
  </div>

    <div class="col-md-2">
      <br>
    <input type="button" value="Search" class="btn btn-danger " id="btnFetchWithAjax">
  </div>

  <div class="col-md-6">
    <label for="inputorganization" class="form-label">Organization</label>
    <input type="text" class="form-control" name="txtOrg" id="txtOrg">
  </div>

  <div class="col-md-6">
    <label for="inputAddress" class="form-label">Registration Number</label>
    <input type="text" class="form-control"  name="txtreg" id="txtReg" placeholder="registration number">
  </div>

  <div class="col-md-12">
    <label for="inputAddress2" class="form-label">Address</label>
    <input type="text" class="form-control"  name="txtAdd" id="txtAdd" placeholder="Apartment, studio, or floor">
  </div>

  <div class="col-md-4">
    <label for="inputCity" class="form-label">City</label>
    <input type="text" class="form-control"  name="txtCity" id="txtCity">
  </div>

    <div class="col-md-4">
    <label for="inputCity" class="form-label">Deals in Sports</label>
    <input type="text" class="form-control"  name="txtDeal" id="txtDeal">
  </div>
 
    <div class="col-md-4">
    <label for="inputCity" class="form-label">Website</label>
    <input type="text" class="form-control"  name="txtWeb" id="txtWeb">
  </div>

  <div class="col-md-4">
    <label for="inputCity" class="form-label">Insta Link</label>
    <input type="text" class="form-control"  name="txtInsta" id="txtInsta">
  </div>
 
    <div class="col-md-4">
    <label for="inputCity" class="form-label">Organization Head</label>
    <input type="text" class="form-control"  name="txtOrgH" id="txtOrgH">
  </div>
 
  <div class="col-md-4">
    <label for="inputCity" class="form-label">Contact Info</label>
    <input type="text" class="form-control"  name="txtCon" id="txtCon">
  </div>

   <div class="col-md-6">
       <input type="file" name="pic" class="form-control"  accept="image/*" id="profilePic" onchange="showPrev(profilePic,prev);">
    </div>

    <div class="col-md-6">
     <img src="pics/customer.jpg" width="300" height="100" id="prev" alt="">
    </div>

  <div class="col-12">
  Other Info  <textarea name="txtOther" id="txtOther" class="form-control" rows="5"></textarea>
  </div>
     
  <div class="col-md-6">
   <center>
     <button type="submit" class="btn btn-danger">Send to Server</button>
      <input type="submit" class="btn btn-danger" value="Modify" formaction="/update-user">
  </center> 
  </div>
</form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
  </body>
</html>